# ğŸ“ ì¸ì±— (InChat) - ì¸ì²œëŒ€í•™êµ AI ì±—ë´‡ 'íšƒë¶ˆì´'

> **2024 ì¸ì²œëŒ€í•™êµ ìº¡ìŠ¤í†¤ ë””ìì¸ í”„ë¡œì íŠ¸ - ì¥ë ¤ìƒ ìˆ˜ìƒì‘** ğŸ†
> **Automated RAG System:** ì‹¤ì‹œê°„ ì›¹ í¬ë¡¤ë§ê³¼ ì£¼ê¸°ì  ì¸ë±ì‹±ì„ í†µí•œ ìµœì‹  í•™ì‚¬ ì •ë³´ ì œê³µ ì±—ë´‡

## ğŸ“– í”„ë¡œì íŠ¸ ì†Œê°œ (Project Overview)

**ì¸ì±—(InChat)**ì€ ì¸ì²œëŒ€í•™êµ í•™ìƒë“¤ì´ í•™êµ ì •ë³´ë¥¼ ì°¾ì„ ë•Œ ê²ªëŠ” ë¶ˆí•„ìš”í•œ ê²€ìƒ‰ ì‹œê°„ê³¼ ì •ë³´ì˜ íŒŒí¸í™” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ê°œë°œëœ **GPT ê¸°ë°˜ AI ì±—ë´‡ ì• í”Œë¦¬ì¼€ì´ì…˜**ì…ë‹ˆë‹¤.

ê¸°ì¡´ì˜ ì •ì ì¸ ë°ì´í„°ë§Œ í•™ìŠµí•˜ëŠ” ì±—ë´‡ê³¼ ë‹¬ë¦¬, **ìë™í™”ëœ ë°ì´í„° íŒŒì´í”„ë¼ì¸(ETL)**ì„ êµ¬ì¶•í•˜ì—¬ í•™êµ í™ˆí˜ì´ì§€ì˜ ê³µì§€ì‚¬í•­ê³¼ ë³€ë™ë˜ëŠ” í•™ì‚¬ ì •ë³´ë¥¼ **ì£¼ê¸°ì ìœ¼ë¡œ ìˆ˜ì§‘ ë° í•™ìŠµ**í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê´€ë¦¬ìì˜ ê°œì… ì—†ì´ë„ í•­ìƒ ìµœì‹  ì •ë³´ë¥¼ ìœ ì§€í•˜ë©°, ìœ í•™ìƒì„ ìœ„í•œ **ë‹¤êµ­ì–´(í•œ/ì˜) ì„œë¹„ìŠ¤**ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### ğŸ¯ ê¸°íš ì˜ë„ ë° ì£¼ìš” ëª©í‘œ

* **ì •ë³´ì˜ ìµœì‹ ì„± ë³´ì¥ (Live Updates):** í¬ë¡¤ëŸ¬ì™€ ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ ë„ì…í•˜ì—¬ ë§¤ì¼ ë³€í•˜ëŠ” ê³µì§€ì‚¬í•­ì„ ìë™ ë°˜ì˜
* **ì •ë³´ ì ‘ê·¼ì„± ê°•í™”:** í•œêµ­ì–´ì— ì„œíˆ° ìœ í•™ìƒ ë° ì‹ ì…ìƒì„ ìœ„í•œ ì–¸ì–´ ì¥ë²½ í•´ì†Œ
* **24/7 ë¬´ì¤‘ë‹¨ ì„œë¹„ìŠ¤:** ì•¼ê°„/íœ´ì¼ì—ë„ í–‰ì •ì‹¤ ë¬¸ì˜ ì—†ì´ ì¦‰ê°ì ì¸ ì§ˆì˜ì‘ë‹µ ê°€ëŠ¥

## âœ¨ ì£¼ìš” ê¸°ëŠ¥ (Key Features)

1. **Hybrid RAG Architecture:**
* **ì •ì  ë°ì´í„°:** ê¸°ì¡´ í•™ì¹™/ê·œì • PDF ë¬¸ì„œ ë¡œë“œ
* **ë™ì  ë°ì´í„°:** í•™êµ í™ˆí˜ì´ì§€ **ì‹¤ì‹œê°„ í¬ë¡¤ë§ ë° ë°°ì¹˜ ì¸ë±ì‹±(Batch Indexing)** ìˆ˜í–‰


2. **ìŠ¤ë§ˆíŠ¸ ì¤‘ë³µ ì œê±° (De-duplication):** ì´ë¯¸ í•™ìŠµëœ ê³µì§€ì‚¬í•­ì€ ê±´ë„ˆë›°ê³ , ìƒˆë¡œìš´ ì •ë³´ë§Œ ë²¡í„° DB(FAISS)ì— ì—…ë°ì´íŠ¸í•˜ì—¬ íš¨ìœ¨ì„± ê·¹ëŒ€í™”
3. **ë‹¤êµ­ì–´ ì§€ì› (Cross-Lingual):** ì‚¬ìš©ìì˜ ì–¸ì–´ ì„¤ì •(Kor/Eng)ì— ë”°ë¼ í”„ë¡¬í”„íŠ¸ë¥¼ ìµœì í™”í•˜ì—¬ ë‹µë³€ ìƒì„±
4. **ë„ë©”ì¸ íŠ¹í™” ì—”í‹°í‹° ì¸ì‹:** 'ê³¼ì‚¬(í•™ê³¼ ì‚¬ë¬´ì‹¤)', 'í•™ì‹', 'ìˆ˜ê°•í¬ê¸°' ë“± êµë‚´ íŠ¹ìˆ˜ ìš©ì–´ ë° ì•½ì–´ ì²˜ë¦¬

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)

### ğŸ“± Client (Android)

* **Language:** Java
* **Networking:** OkHttp3 (Retrofit)
* **UI/UX:** XML, RecyclerView, Custom Chat Interface

### ğŸ–¥ï¸ Server & Data Pipeline (Backend)

* **Core Framework:** Python, Flask
* **Automation:** **APScheduler** (ì£¼ê¸°ì  ì‘ì—… ì‹¤í–‰)
* **Crawling:** **BeautifulSoup4, Requests** (ë°ì´í„° ìˆ˜ì§‘)
* **Deployment:** AWS EC2

### ğŸ§  AI & NLP

* **LLM:** OpenAI GPT-3.5-turbo
* **Framework:** LangChain
* **Embedding:** OpenAI Embeddings
* **Vector Store:** **FAISS** (Upsert ì§€ì›)
* **Evaluation:** Auto-Evaluator (RAGAS)

## âš™ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ (System Architecture)

ë³¸ í”„ë¡œì íŠ¸ëŠ” **ì‚¬ìš©ì ì§ˆë¬¸ ì²˜ë¦¬(Inference)**ì™€ **ë°ì´í„° ìµœì‹ í™”(ETL)**ë¼ëŠ” ë‘ ê°€ì§€ í•µì‹¬ íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.

```mermaid
flowchart TD
    %% ì‚¬ìš©ì ë° ì¶”ë¡  ì˜ì—­
    subgraph Inference_Phase ["ğŸ” ê²€ìƒ‰ ë° ë‹µë³€ (Real-time Inference)"]
        User(ğŸ‘¤ User) -->|Question| Retriever
        Retriever -->|Similarity Search| FAISS[(ğŸ—„ï¸ FAISS Vector Store)]
        FAISS -->|Context| LLM[ğŸ¤– GPT-3.5-turbo]
        User -->|Prompt| LLM
        LLM --> Answer[ğŸ“ Answer]
    end

    %% ë°ì´í„° ìˆ˜ì§‘ ë° ê°€ê³µ ì˜ì—­
    subgraph ETL_Pipeline ["âš™ï¸ ë°ì´í„° íŒŒì´í”„ë¼ì¸ (Batch Indexing)"]
        Scheduler("â° Scheduler\nDaily Trigger") -->|Wake Up| Crawler
        
        subgraph Collection ["Data Collection"]
            Web["ğŸ« í•™êµ ê³µì§€ì‚¬í•­\nWebsite"] -->|HTTP Request| Crawler["ğŸ•·ï¸ Web Crawler"]
        end
        
        Crawler -->|Raw HTML| Dedup{"â™»ï¸ ì¤‘ë³µ ê²€ì‚¬\n(Check DB)"}
        
        Dedup -->|New Post| Cleaner["ğŸ§¹ Data Cleaner\n(Tag Removal)"]
        Dedup -->|Exists| Skip["â›” Skip"]
        
        Cleaner -->|Clean Text| Splitter["ğŸ“„ Text Splitter"]
        
        Splitter -->|Chunks| Embed["ğŸ§  OpenAI Embeddings"]
        Embed -->|Upsert| FAISS
    end

    %% ìŠ¤íƒ€ì¼ë§
    style Scheduler fill:#f9f,stroke:#333,stroke-width:2px
    style Crawler fill:#bbf,stroke:#333,stroke-width:2px
    style Dedup fill:#ff9,stroke:#333,stroke-width:2px
    style FAISS fill:#ddd,stroke:#333,stroke-width:4px
```

### ğŸ”„ Batch Indexing íŒŒì´í”„ë¼ì¸ ìƒì„¸

1. **Scheduler:** ë§¤ì¼ ì§€ì •ëœ ì‹œê°„(ì˜ˆ: 09:00, 18:00)ì— ì—…ë°ì´íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
2. **Crawling:** í•™êµ ê³µì§€ì‚¬í•­ ê²Œì‹œíŒì˜ ìµœì‹  ê²Œì‹œê¸€ ëª©ë¡ ìˆ˜ì§‘
3. **De-duplication:** ê¸°ì¡´ Vector DBì— ì¡´ì¬í•˜ëŠ” URL/IDì¸ì§€ í™•ì¸í•˜ì—¬ ì¤‘ë³µ ë°ì´í„° í•„í„°ë§
4. **Vectorization & Upsert:** ìƒˆë¡œìš´ í…ìŠ¤íŠ¸ë§Œ ì„ë² ë”©í•˜ì—¬ FAISS ì¸ë±ìŠ¤ì— **ì¶”ê°€(Upsert)**, ìµœì‹ ì„± ìœ ì§€

## ğŸ“Š ì„±ëŠ¥ í‰ê°€ ë° ì„±ê³¼ (Performance)

* **ëª¨ë¸ íš¨ìœ¨ì„±:** GPT-4 ëŒ€ë¹„ ì†ë„ **3.7ë°° í–¥ìƒ**, ë¹„ìš© **90% ì ˆê°** (GPT-3.5-turbo ìµœì í™”)
* **ê²€ìƒ‰ ì •í™•ë„:** Hybrid Search(Keyword + Semantic) ì ìš© ì „ ëŒ€ë¹„ ê´€ë ¨ ë¬¸ì„œ ì¶”ì¶œ ì •í™•ë„ **15% ìƒìŠ¹**
* **ìµœì‹  ì •ë³´ ë°˜ì˜:** ê¸°ì¡´ ì •ì  íŒŒì¼ ë°©ì‹(Update ë¶ˆê°€)ì—ì„œ **ì¼ì¼ ìë™ ì—…ë°ì´íŠ¸** ì²´ê³„ë¡œ ê°œì„  ì™„ë£Œ

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²• (Getting Started)

### 1. Backend & Scheduler ì„¤ì •

Python 3.9+ í™˜ê²½ ê¶Œì¥

```bash
# 1. ë ˆí¬ì§€í† ë¦¬ í´ë¡ 
git clone https://github.com/username/InChat.git
cd InChat/server

# 2. í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
pip install flask langchain openai faiss-cpu tiktoken apscheduler beautifulsoup4

# 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (.env)
echo "OPENAI_API_KEY=your_api_key" > .env

# 4. ì„œë²„ ì‹¤í–‰ (ìŠ¤ì¼€ì¤„ëŸ¬ í¬í•¨)
# app.py ì‹¤í–‰ ì‹œ ë°±ê·¸ë¼ìš´ë“œì—ì„œ Schedulerê°€ í•¨ê»˜ ë™ì‘í•©ë‹ˆë‹¤.
python app.py

```

### 2. Client (Android)

1. Android Studio `Open Project` -> `/android` í´ë” ì„ íƒ
2. `Constants.java` ë˜ëŠ” API ì„¤ì • íŒŒì¼ì—ì„œ `BASE_URL` ìˆ˜ì •
```java
public static final String BASE_URL = "http://YOUR_EC2_IP:5000";

```


3. Build & Run on Emulator/Device

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡° (Directory Structure)

```
Capstone/
â”œâ”€â”€ server/
â”‚   â”œâ”€â”€ app.py              # Flask ì•± ì§„ì…ì  (API Endpoints)
â”‚   â”œâ”€â”€ scheduler.py        # ì£¼ê¸°ì  ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ (Scheduler ì„¤ì •)
â”‚   â”œâ”€â”€ crawler.py          # í•™êµ í™ˆí˜ì´ì§€ í¬ë¡¤ë§ ë° íŒŒì‹± ë¡œì§
â”‚   â”œâ”€â”€ rag_modules/        # RAG ê´€ë ¨ ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ vectorstore.py  # FAISS ë¡œë“œ ë° ì €ì¥/Upsert ë¡œì§
â”‚   â”‚   â””â”€â”€ embeddings.py   # OpenAI ì„ë² ë”© ì„¤ì •
â”‚   â””â”€â”€ data/               # PDF íŒŒì¼ ë° FAISS ì¸ë±ìŠ¤ ì €ì¥ì†Œ
â”œâ”€â”€ android/
â”‚   â”œâ”€â”€ app/src/main/java/com/example/inchat/
â”‚   â”‚   â”œâ”€â”€ ui/             # Activity ë° Fragment (Chat UI)
â”‚   â”‚   â”œâ”€â”€ network/        # Retrofit API ì¸í„°í˜ì´ìŠ¤
â”‚   â”‚   â””â”€â”€ model/          # DTO í´ë˜ìŠ¤
â”‚   â””â”€â”€ res/layout/         # XML ë ˆì´ì•„ì›ƒ
â””â”€â”€ README.md

```

## ğŸ‘¥ íŒ€ì› (Contributors)

* **ê¹€í˜„ì£¼ (íŒ€ì¥):** Backend Architecture ì„¤ê³„, RAG íŒŒì´í”„ë¼ì¸ êµ¬ì¶•, ë°ì´í„° í¬ë¡¤ëŸ¬ ê°œë°œ
* **ìœ ë‹¤í˜„:** Android Client ê°œë°œ, UI/UX ë””ìì¸, REST API ì—°ë™
